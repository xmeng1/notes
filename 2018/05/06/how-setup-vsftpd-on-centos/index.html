<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="vsftpd,linux,ftp," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="摘要：本文介绍如何使用 vsftpd 配置 FTP 服务器，同时介绍 vsftpd 的配置选项以及常用的使用方法。">
<meta name="keywords" content="vsftpd,linux,ftp">
<meta property="og:type" content="article">
<meta property="og:title" content="vsftpd配置过程">
<meta property="og:url" content="https://notes.mengxin.science/2018/05/06/how-setup-vsftpd-on-centos/index.html">
<meta property="og:site_name" content="Xin&#39;s Notes">
<meta property="og:description" content="摘要：本文介绍如何使用 vsftpd 配置 FTP 服务器，同时介绍 vsftpd 的配置选项以及常用的使用方法。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2021-12-21T09:52:36.032Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vsftpd配置过程">
<meta name="twitter:description" content="摘要：本文介绍如何使用 vsftpd 配置 FTP 服务器，同时介绍 vsftpd 的配置选项以及常用的使用方法。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: 'LRRR8WO27T',
      apiKey: '52f38cdd494149d36c3b9a986a36836c',
      indexName: 'prod_notes',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://notes.mengxin.science/2018/05/06/how-setup-vsftpd-on-centos/"/>





  <title> vsftpd配置过程 | Xin's Notes </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-40931165-6', 'auto');
  ga('send', 'pageview');
</script>











  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xin's Notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Develop Notes</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<div id="google_translate_element"></div><script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'zh-CN', layout: google.translate.TranslateElement.InlineLayout.SIMPLE, multilanguagePage: true, gaTrack: true, gaId: 'UA-40931165-7'}, 'google_translate_element');
}
</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://notes.mengxin.science/2018/05/06/how-setup-vsftpd-on-centos/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xin Meng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar-2.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xin's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                vsftpd配置过程
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-06T23:00:00+00:00">
                2018-05-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/知识积累/" itemprop="url" rel="index">
                    <span itemprop="name">知识积累</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/05/06/how-setup-vsftpd-on-centos/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/05/06/how-setup-vsftpd-on-centos/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>摘要：本文介绍如何使用 <code>vsftpd</code> 配置 <code>FTP</code> 服务器，同时介绍 <code>vsftpd</code> 的配置选项以及常用的使用方法。</p>
<a id="more"></a>
<h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><p>假设我们有若干用户：<code>alice</code>，<code>bob</code>。每个用户需要有若干目录访问权限，而且这些目录分布并不一致，比如</p>
<ul>
<li>alice： 允许且仅允许访问 <code>/var/test1</code> 和 <code>/var/www/alice_test</code> </li>
<li>bob： 允许且仅允许访问 <code>/var/test2</code> 和 <code>/var/www/bob_test</code> </li>
</ul>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>我们的环境是 <code>centos</code>，安装步骤很简单，<a href="https://www.tecmint.com/install-ftp-server-in-centos-7/" target="_blank" rel="noopener">参考</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install vsftpd</span><br><span class="line">systemctl start vsftpd</span><br><span class="line">systemctl <span class="built_in">enable</span> vsftpd</span><br></pre></td></tr></table></figure>
<p>这里我们根据默认的端口配置防火墙</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --permanent --add-port=21/tcp</span><br><span class="line">firewall-cmd --zone=public --permanent --add-service=ftp</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>
<p>这时候我们可以尝试匿名访问 <code>ftp</code> 服务器，应该是可以访问成功的。</p>
<h2 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h2><p><code>vsftpd</code> 使用的是系统的用户，所以我们这里在 <code>Linux</code> 中创建用户。</p>
<p>假设我们已经有用户组 <code>ftp</code>，这个用户组拥有所有需求中文件夹的权限，然后我们也希望所有用户都加入到该组中。</p>
<h3 id="创建用户目录"><a href="#创建用户目录" class="headerlink" title="创建用户目录"></a>创建用户目录</h3><p>我们首先为每个用户创建用户目录，也意味着每个用户登陆 <code>FTP</code> 服务器后后将会只看到这个目录。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /var/alice_home</span><br><span class="line">mkdir /var/bob_home</span><br></pre></td></tr></table></figure>
<h3 id="加入用户"><a href="#加入用户" class="headerlink" title="加入用户"></a>加入用户</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd --home /var/alice_home --gid ftp alice</span><br><span class="line">useradd --home /var/bob_home --gid ftp bob</span><br></pre></td></tr></table></figure>
<p>这里也可以使用 <code>-m</code> 选项同时创建用户目录。</p>
<p>也可以使用 <code>--shell /bin/false</code> 将不允许用户使用 <code>shell</code>。</p>
<p>如果是已有用户，可以将其加入到 <code>ftp</code> 组中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -a -G groupName userName</span><br></pre></td></tr></table></figure>
<blockquote>
<p>The -a (append) switch is essential. Otherwise, the user will be removed from any groups, not in the list.</p>
<p>The -G switch takes a (comma-separated) list of additional groups to assign the user to.</p>
</blockquote>
<p>为用户添加或修改 <code>home</code> 目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -m -d /newhome/username username</span><br></pre></td></tr></table></figure>
<p>我们需要确保用户主目录的权限正确，这个目录应该归属 <code>username:ftp</code>， 所以我们修改其 <code>owner</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown -R /var/alice_home alice:ftp</span><br><span class="line">chown -R /var/bob_home bob:ftp</span><br></pre></td></tr></table></figure>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>首先我们备份原有配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /etc/vsftpd/vsftpd.conf /etc/vsftpd/vsftpd.conf.orig</span><br></pre></td></tr></table></figure>
<p>然后开始配置</p>
<h3 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">anonymous_enable=NO             # disable  anonymous login</span><br><span class="line">local_enable=YES		# permit local logins</span><br><span class="line">write_enable=YES		# enable FTP commands which change the filesystem</span><br><span class="line">local_umask=022		        # value of umask for file creation for local users</span><br><span class="line">dirmessage_enable=YES	        # enable showing of messages when users first enter a new directory</span><br><span class="line">xferlog_enable=YES		# a log file will be maintained detailing uploads and downloads</span><br><span class="line">connect_from_port_20=YES        # use port 20 (ftp-data) on the server machine for PORT style connections</span><br><span class="line">xferlog_std_format=YES          # keep standard log file format</span><br><span class="line">listen=NO   			# prevent vsftpd from running in standalone mode</span><br><span class="line">listen_ipv6=YES		        # vsftpd will listen on an IPv6 socket instead of an IPv4 one</span><br><span class="line">pam_service_name=vsftpd         # name of the PAM service vsftpd will use</span><br><span class="line">userlist_enable=YES  	        # enable vsftpd to load a list of usernames</span><br><span class="line">tcp_wrappers=YES  		# turn on tcp wrappers</span><br></pre></td></tr></table></figure>
<p>这里我们处理修改禁止匿名访问外，保留了所有的选项。</p>
<h3 id="配置用户权限"><a href="#配置用户权限" class="headerlink" title="配置用户权限"></a>配置用户权限</h3><p><code>userlist_enable</code> 和 <code>userlist_deny</code> 的组合使用。</p>
<blockquote>
<p>userlist_deny<br>      This  option is examined if userlist_enable is activated. If you<br>      set this setting to NO, then users will be denied  login  unless<br>      they   are   explicitly   listed   in   the  file  specified  by<br>      userlist_file.  When login  is  denied,  the  denial  is  issued<br>      before the user is asked for a password.</p>
<pre><code>  Default: YES
</code></pre><p>userlist_enable<br>      If enabled, vsftpd will load a list of usernames, from the file-<br>      name given by userlist_file.  If a user tries to log in using  a<br>      name in this file, they will be denied before they are asked for<br>      a password. This may be useful in preventing cleartext passwords<br>      being transmitted. See also userlist_deny.</p>
<pre><code>  Default: NO
</code></pre></blockquote>
<p>也就是说，<code>userlist_enable</code> 本身是希望禁用列表中的用户的访问的，所以默认是关闭的，一旦打开需要指定一个用户列表 <code>userlist_file=/etc/vsftpd.userlist</code>，然后这个列表中的用户将无法访问服务器。</p>
<p>但是如果我们希望放过来，只让用户列表中的用户访问呢？那么可以借助<code>userlist_deny</code> 配置项，其默认是 <code>YES</code>，也就是 <code>Deny</code> 列表中的用户，但是如我们设为 <code>No</code>，那么将 <code>Deny</code> 所有不是列表中的用户。</p>
<blockquote>
<p>By default, users listed in userlist_file=/etc/vsftpd.userlist are denied login access with userlist_deny option set to YES, if userlist_enable=YES.</p>
<p>However, userlist_deny=NO alters the setting, meaning that only users explicitly listed in userlist_file=/etc/vsftpd.userlist will be permitted to login.</p>
</blockquote>
<p>所以我们最终关于用户访问权限的配置为</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">userlist_enable=YES</span><br><span class="line">userlist_file=/etc/vsftpd.userlist</span><br><span class="line">userlist_deny=NO</span><br></pre></td></tr></table></figure>
<p>同时需要创建用户列表文件并添加用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">touch /etc/vsftpd.userlist</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"alice"</span> | tee -a /etc/vsftpd.userlist</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"bob"</span> | tee -a /etc/vsftpd.userlist</span><br></pre></td></tr></table></figure>
<p>这时候只有 <code>alice</code> 和 <code>bob</code> 可以访问 FTP 服务器了。</p>
<h3 id="配置用户访问目录权限"><a href="#配置用户访问目录权限" class="headerlink" title="配置用户访问目录权限"></a>配置用户访问目录权限</h3><p>这时候实际上用户是可以访问自己的 home 目录了，但是由于我们设置<code>allow_writeable_chroot=YES</code>，所以存在安全隐患</p>
<blockquote>
<p>Warning: Using allow_writeable_chroot=YES has certain security implications, especially if the users have upload permission, or shell access.<br>Only activate this option if you exactly know what you are doing. It’s important to note that these security implications arenot vsftpd specific, they apply to all FTP daemons which offer to put local users in chroot jails as well.</p>
<p>Therefore, we will look at a more secure way of setting a different non-writable local root directory in the next section.</p>
</blockquote>
<p>参考1：<a href="https://blog.csdn.net/bluishglc/article/details/42398811" target="_blank" rel="noopener">https://blog.csdn.net/bluishglc/article/details/42398811</a><br>参考2：<a href="http://os.51cto.com/art/201008/221842_all.htm" target="_blank" rel="noopener">http://os.51cto.com/art/201008/221842_all.htm</a></p>
<p>这里用是有两个选项，有点类似于前面用户列表：<code>chroot_local_user</code> 和 <code>chroot_list_enable</code></p>
<p><code>chroot_local_user</code> #是否将所有用户限制在主目录,YES为启用 NO禁用.(该项默认值是NO,即在安装vsftpd后不做配置的话，ftp用户是可以向上切换到要目录之外的)</p>
<p><code>chroot_list_enable</code> #是否启动限制用户的名单 YES为启用  NO禁用(包括注释掉也为禁用，也就是默认是禁用)</p>
<p>这两个选项的组合参考下表</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><code>chroot_local_user=yes</code></th>
<th><code>chroot_local_user=no</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>chroot_list_enable=yes</code></td>
<td>1 所有用户限制在主目录下，列表用户作为例外不受限制</td>
<td>3 所有用户不受限制，列表用户作为例外受限制</td>
</tr>
<tr>
<td><code>chroot_list_enable=no</code></td>
<td>2 所有用户限制在主目录下，没有例外</td>
<td>4 所有用户不受限制，没有例外</td>
</tr>
</tbody>
</table>
</div>
<p>这里我们并不需要由用户可以访问除了主目录的其他目录，所以选择配置2：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chroot_local_user=YES</span><br><span class="line">chroot_list_enable=NO #或者不写即默认</span><br></pre></td></tr></table></figure>
<h2 id="用户指定任意不同的目录访问权限"><a href="#用户指定任意不同的目录访问权限" class="headerlink" title="用户指定任意不同的目录访问权限"></a>用户指定任意不同的目录访问权限</h2><p>参考1：<a href="http://www.ducea.com/2006/07/27/allowing-ftp-access-to-files-outside-the-home-directory-chroot/" target="_blank" rel="noopener">http://www.ducea.com/2006/07/27/allowing-ftp-access-to-files-outside-the-home-directory-chroot/</a><br>参考2：<a href="https://serverfault.com/a/566336" target="_blank" rel="noopener">https://serverfault.com/a/566336</a></p>
<p>这里我们使用  <code>mount</code> 的方式，将任意目录 <code>mount</code> 到用户的 <code>home</code> 目录，同时注意目录权限，用户需要有适当的权限于目标目录。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir /var/alice_home/test1</span><br><span class="line">mkdir /var/alice_home/alice_test</span><br><span class="line">mount --<span class="built_in">bind</span> /var/test1 /var/alice_home/test1</span><br><span class="line">mount --<span class="built_in">bind</span> /var/www/alice_test /var/alice_home/alice_test</span><br></pre></td></tr></table></figure>
<p>这里 <code>mount --bind 目标目录 主目录下的目录</code>，如果需要修改 <code>mount</code> 的目标目录，只需要重新 绑定就可以了。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>至此，配置完成，用户 <code>alice</code> 和 <code>bob</code> 只能访问自己的主目录，同时主目录有两个其他的任意目录，具体的读写权限和 Linux 用户与用户组的权限一致，可以通过 <code>ls -al</code> 来查看，也可以通过 <code>chmod</code> 来修改对应的权限。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/vsftpd/" rel="tag"># vsftpd</a>
          
            <a href="/tags/linux/" rel="tag"># linux</a>
          
            <a href="/tags/ftp/" rel="tag"># ftp</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/05/01/Jenkins-usage-in-practise/" rel="next" title="Jenkins使用笔记">
                <i class="fa fa-chevron-left"></i> Jenkins使用笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/05/18/the-ways-to-create-stream-in-java-8/" rel="prev" title="The Ways to create Stream in Java 8">
                The Ways to create Stream in Java 8 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
      
        
          <ul class="sidebar-nav motion-element">
            <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
              文章目录
            </li>
            <li class="sidebar-nav-overview" data-target="site-overview">
              站点概览
            </li>
          </ul>
        
      



      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar-2.jpg"
               alt="Xin Meng" />
          <p class="site-author-name" itemprop="name">Xin Meng</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">152</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">162</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/xmeng1" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/xinmeng_1" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/michealmeng" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/xinmeng1" target="_blank" title="Linkedin">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                  Linkedin
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/mengxin.city" target="_blank" title="Facebook">
                  
                    <i class="fa fa-fw fa-facebook"></i>
                  
                  Facebook
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://douban.com/people/xinmeng1" target="_blank" title="Douban">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Douban
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/xinmeng1" target="_blank" title="Zhihu">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Zhihu
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Next
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://theme-next.iissnan.com" title="Title" target="_blank">Title</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>
      
        
        <!--noindex-->
          <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
            <div class="post-toc">

              
                
              

              
                <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#目标"><span class="nav-number">1.</span> <span class="nav-text">目标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装"><span class="nav-number">2.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户"><span class="nav-number">3.</span> <span class="nav-text">用户</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建用户目录"><span class="nav-number">3.1.</span> <span class="nav-text">创建用户目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#加入用户"><span class="nav-number">3.2.</span> <span class="nav-text">加入用户</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置"><span class="nav-number">4.</span> <span class="nav-text">配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基本配置"><span class="nav-number">4.1.</span> <span class="nav-text">基本配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置用户权限"><span class="nav-number">4.2.</span> <span class="nav-text">配置用户权限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置用户访问目录权限"><span class="nav-number">4.3.</span> <span class="nav-text">配置用户访问目录权限</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户指定任意不同的目录访问权限"><span class="nav-number">5.</span> <span class="nav-text">用户指定任意不同的目录访问权限</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">6.</span> <span class="nav-text">总结</span></a></li></ol></div>
              

            </div>
          </section>
        <!--/noindex-->
        
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2017 - 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xin Meng</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://mengxin.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'https://notes.mengxin.science/2018/05/06/how-setup-vsftpd-on-centos/';
          this.page.identifier = '2018/05/06/how-setup-vsftpd-on-centos/';
          this.page.title = 'vsftpd配置过程';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://mengxin.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  





  






  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.1"></script>



  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        },
        TeX: { equationNumbers: { autoNumber: "AMS" }}
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

</body>
</html>
