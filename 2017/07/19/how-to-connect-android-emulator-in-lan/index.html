<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="blog,Android,adb,AVD," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="摘要： 本文主要介绍如何远程连接位于局域网内的 Android 模拟器进行调试。我们知道 Android 模拟器十分耗费资源，尤其对于 Macbook 用户，开启模拟器后风扇狂转，如果这时候有一台空余的机器，可以单独运行一个 Android 模拟器，然后再远程连接到该模拟器，从而能够减轻工作机的负担。 2018年3月8日 Update：修改了 avd 命令">
<meta name="keywords" content="blog,Android,adb,AVD">
<meta property="og:type" content="article">
<meta property="og:title" content="远程连接局域网内的Android模拟器">
<meta property="og:url" content="https://notes.mengxin.science/2017/07/19/how-to-connect-android-emulator-in-lan/index.html">
<meta property="og:site_name" content="Xin&#39;s Notes">
<meta property="og:description" content="摘要： 本文主要介绍如何远程连接位于局域网内的 Android 模拟器进行调试。我们知道 Android 模拟器十分耗费资源，尤其对于 Macbook 用户，开启模拟器后风扇狂转，如果这时候有一台空余的机器，可以单独运行一个 Android 模拟器，然后再远程连接到该模拟器，从而能够减轻工作机的负担。 2018年3月8日 Update：修改了 avd 命令">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2021-12-21T09:52:36.036Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="远程连接局域网内的Android模拟器">
<meta name="twitter:description" content="摘要： 本文主要介绍如何远程连接位于局域网内的 Android 模拟器进行调试。我们知道 Android 模拟器十分耗费资源，尤其对于 Macbook 用户，开启模拟器后风扇狂转，如果这时候有一台空余的机器，可以单独运行一个 Android 模拟器，然后再远程连接到该模拟器，从而能够减轻工作机的负担。 2018年3月8日 Update：修改了 avd 命令">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: 'LRRR8WO27T',
      apiKey: '52f38cdd494149d36c3b9a986a36836c',
      indexName: 'prod_notes',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://notes.mengxin.science/2017/07/19/how-to-connect-android-emulator-in-lan/"/>





  <title> 远程连接局域网内的Android模拟器 | Xin's Notes </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-40931165-6', 'auto');
  ga('send', 'pageview');
</script>











  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xin's Notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Develop Notes</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<div id="google_translate_element"></div><script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'zh-CN', layout: google.translate.TranslateElement.InlineLayout.SIMPLE, multilanguagePage: true, gaTrack: true, gaId: 'UA-40931165-7'}, 'google_translate_element');
}
</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://notes.mengxin.science/2017/07/19/how-to-connect-android-emulator-in-lan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xin Meng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar-2.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xin's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                远程连接局域网内的Android模拟器
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-19T23:00:00+00:00">
                2017-07-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/知识积累/" itemprop="url" rel="index">
                    <span itemprop="name">知识积累</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/07/19/how-to-connect-android-emulator-in-lan/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/07/19/how-to-connect-android-emulator-in-lan/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>摘要：</p>
<p>本文主要介绍如何远程连接位于局域网内的 Android 模拟器进行调试。我们知道 Android 模拟器十分耗费资源，尤其对于 Macbook 用户，开启模拟器后风扇狂转，如果这时候有一台空余的机器，可以单独运行一个 Android 模拟器，然后再远程连接到该模拟器，从而能够减轻工作机的负担。</p>
<p>2018年3月8日 Update：修改了 avd 命令</p>
<a id="more"></a>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>本文主要参考了一篇博文和一个 Sf 上的问答：</p>
<p><a href="https://developer.xamarin.com/guides/android/troubleshooting/questions/connect-android-emulator-mac-windows/" target="_blank" rel="noopener">Is it possible to connect to Android emulators running on a Mac from a Windows VM?</a>  这篇文章介绍了两种方法，我们使用其中的第二种。</p>
<p><a href="https://stackoverflow.com/a/1931633/2000468" target="_blank" rel="noopener">Remote debugging with Android emulator</a>，这个问答思路和上面的第二种方法一直，但是提出了关于 adb 的建议从而解决了 offline 的问题。</p>
<p>下面我们详细介绍使用 SSH 来远程访问同一局域网内的 Android 模拟器。如果你对基础内容十分熟悉，直接进入 <strong>命令行快速参考手册</strong></p>
<h2 id="约定"><a href="#约定" class="headerlink" title="约定"></a>约定</h2><p>为了方面描述我们做如下约定：</p>
<ol>
<li>客户端 Client：我们的开发机，也就是实际运行 Android Studio 程序的机器。</li>
<li>服务器 Server：模拟器运行的宿主机，也就是我们需要远程访问的机器。</li>
</ol>
<h2 id="服务器-Server-开启-SSH-访问"><a href="#服务器-Server-开启-SSH-访问" class="headerlink" title="服务器 Server 开启 SSH 访问"></a>服务器 Server 开启 SSH 访问</h2><p>这一步是本解决方法的前提，也就是说开启<strong>服务器</strong>端的 SSH 访问权限，允许<strong>客户端</strong>远程登录到该服务器。这里我们只用 Mac 来说明其方法，其他平台请自行搜索开启方法。</p>
<p>对于 Mac 来说，开启 SSH 比较简单，只需要在 <code>设置 -&gt; 共享</code>（Preference-&gt; Sharing） 中勾选中<code>远程登录</code>（Remote Login）即可，大家应该可以看到 Remote Login 的状态处于打开，然后下面有解释说 <strong>远程登录允许用户的其他电脑通过 SSH 和 SFTP 访问该电脑</strong>。一旦打开这个选项，提示会告诉你如何使用 SSH 访问该电脑。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh Username@Computer</span><br></pre></td></tr></table></figure>
<p>其中 <code>Username</code> 就是你当前登录的用户名， <code>Computer</code> 就是你的主机名，其中主机名也可以用 IP 地址来代替。IP 地址可以通过 <code>ifconfig -a</code> 来获取。</p>
<p>这时候我们在<em>客户端</em>打开一个 <code>Terminal</code>，然后输入上面的命令，在输入用户名对应的密码就应该成功的登陆到服务器了。</p>
<h2 id="使用-SSH-进行端口映射"><a href="#使用-SSH-进行端口映射" class="headerlink" title="使用 SSH 进行端口映射"></a>使用 SSH 进行端口映射</h2><p>我们首先思考如果在<strong>服务器</strong>本身访问模拟器的情形，实际上模拟器就是一个虚拟机，但是它的网络和宿主机通过端口映射的，一般为 5554和5555一对端口，宿主机上如果访问模拟器，只需要访问本地网络的两个端口就可以了。</p>
<p>所以如果我们在<strong>客户端</strong>使用 SSH 登陆到<strong>服务器</strong>，实际上和在<strong>服务器</strong>上并没有太大的区别，我们通过 SSH 登陆后也同样可以访问模拟器，但问题的关键是我们需要让我们的开发环境能够识别出这个模拟器，而不是通过 SSH 登陆后访问模拟器。而 SSH 支持端口映射，大家可以查看 <a href="https://www.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1" target="_blank" rel="noopener">SSH 命令手册</a>，其中 <code>-L</code> 选项就是进行本机地址端口和远程服务器的进行映射的。</p>
<blockquote>
<pre><code> -L    [bind_address:]port:host:hostport
 -L    [bind_address:]port:remote_socket
 -L    local_socket:host:hostport
 -L    local_socket:remote_socket
     Specifies that connections    to the given TCP port or Unix socket
     on    the local (client) host    are to be forwarded to the given host
     and port, or Unix socket, on the remote side.  This works by
     allocating    a socket to listen to either a TCP port    on the local
     side, optionally bound to the specified bind_address, or to a
     Unix socket.  Whenever a connection is made to the    local port or
     socket, the connection is forwarded over the secure channel, and
     a connection is made to either host port hostport,    or the Unix
     socket remote_socket, from    the remote machine.

     Port forwardings can also be specified in the configuration file.
     Only the superuser    can forward privileged ports.  IPv6 addresses
     can be specified by enclosing the address in square brackets.

     By    default, the local port    is bound in accordance with the
     GatewayPorts setting.  However, an    explicit bind_address may be
     used to bind the connection to a specific address.     The
     bind_address of ``localhost&#39;&#39; indicates that the listening    port
     be    bound for local    use only, while    an empty address or `*&#39;    indi-
     cates that    the port should    be available from all interfaces.
</code></pre></blockquote>
<p>所以我们只需要把本地的 localhost 的某一个端口映射到远程服务器就可以，当然我们可以选择使用常用的 5554和5555，这样 ADB 就直接可以把远程的模拟器作为本地模拟器了，也可以使用其他端口，只是需要主动使用 adb 命令去连接对应的端口。</p>
<h3 id="其他端口映射"><a href="#其他端口映射" class="headerlink" title="其他端口映射"></a>其他端口映射</h3><p>如果服务器的模拟器的端口是 5554，那么我们就需要映射 5555.</p>
<ol>
<li>在客户端执行如下命令</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># in client side</span><br><span class="line">ssh -L localhost:15555:localhost:5555 mengxin@Xin-Mac-Mini.local</span><br></pre></td></tr></table></figure>
<p>输入密码后进入到服务器的 <code>bash</code> 环境，这时候不需要管这个窗口。</p>
<ol>
<li>新打开一个 Terminal 窗口，使用 <code>adb</code> 来连接本地映射的端口：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># in client sied</span><br><span class="line">killall adb</span><br><span class="line">adb connect localhost:15555</span><br></pre></td></tr></table></figure>
<ol>
<li>服务器在 Terminal 中将其 adb 的所有服务全部终结，这一步十分重要，否则设备将会是 offline。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># in server side</span><br><span class="line">killall adb</span><br></pre></td></tr></table></figure>
<h3 id="默认端口映射"><a href="#默认端口映射" class="headerlink" title="默认端口映射"></a>默认端口映射</h3><p>如果服务器的模拟器的端口是 5554</p>
<ol>
<li>在客户端执行如下命令</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># in client side</span><br><span class="line">sssh -NL 5554:localhost:5554 -L 5555:localhost:5555 mengxin@Xin-Mac-Mini.local</span><br></pre></td></tr></table></figure>
<p>输入密码后进入到服务器的 <code>bash</code> 环境，这时候不需要管这个窗口。</p>
<ol>
<li>服务器在 Terminal 中将其 adb 的所有服务全部终结，这一步十分重要，否则设备将会是 offline。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># in server side</span><br><span class="line">killall adb</span><br></pre></td></tr></table></figure>
<p>这时候我们应该能够在 Android Studio 的运行中看到连接的 Android 模拟器。</p>
<h2 id="使用命令行打开模拟器"><a href="#使用命令行打开模拟器" class="headerlink" title="使用命令行打开模拟器"></a>使用命令行打开模拟器</h2><p>当前的模拟器需要在 Android Studio 中打开 AVD 管理器才能打开模拟器，对于我们的需求，我们并不需要在服务器端打开 Android Studio。只需要打开模拟器就行了，所以是不是有更简单的方法呢？ 实际上 Android Studio 是通过 SDK 中的相应的工具来打开模拟器的，所以我们可以直接用命令行调取对应的执行就行了。</p>
<p>这里需要知道两个工具，<code>avdmanager</code> 和 <code>emulator</code>，其中 <code>emulator</code> 在 <code>Android/sdk/tools</code> 目录下， 而 <code>avdmanager</code> 在 <code>Android/sdk/tools/bin</code> 目录下。默认情况，Mac系统的Android 的 SDK 安装到 <code>~/Library/Android/sdk</code>，所以大家可以进入到该路径，然后执行对应的命令。</p>
<p>假设我们已经进入了 SDK 下的 tools 目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Library/Android/sdk/tools</span><br></pre></td></tr></table></figure>
<h3 id="列出所有-AVD"><a href="#列出所有-AVD" class="headerlink" title="列出所有 AVD"></a>列出所有 AVD</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/avdmanager list avd</span><br></pre></td></tr></table></figure>
<p>显示如下内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Available Android Virtual Devices:</span><br><span class="line">---------</span><br><span class="line">    Name: Nexus_5_API_26</span><br><span class="line">  Device: Nexus 5 (Google)</span><br><span class="line">    Path: /Users/mengxin/.android/avd/Nexus_5_API_26.avd</span><br><span class="line">  Target: Google APIs (Google Inc.)</span><br><span class="line">          Based on: Android 7.1.1 (Nougat) Tag/ABI: google_apis/x86_64</span><br><span class="line">    Skin: nexus_5</span><br><span class="line">  Sdcard: 100M</span><br><span class="line">---------</span><br><span class="line">    Name: Nexus_5X_API_25_x86</span><br><span class="line">  Device: Nexus 5X (Google)</span><br><span class="line">    Path: /Users/mengxin/.android/avd/Nexus_5X_API_25_x86.avd</span><br><span class="line">  Target: Google APIs (Google Inc.)</span><br><span class="line">          Based on: Android 7.1.1 (Nougat) Tag/ABI: google_apis/x86</span><br><span class="line">    Skin: nexus_5x</span><br><span class="line">  Sdcard: 800M</span><br><span class="line">Snapshot: no</span><br></pre></td></tr></table></figure>
<h3 id="使用-emulator-打开-avd"><a href="#使用-emulator-打开-avd" class="headerlink" title="使用 emulator 打开 avd"></a>使用 emulator 打开 avd</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./emulator -avd Nexus_5X_API_25_x86 &amp;</span><br></pre></td></tr></table></figure>
<p>其中的 <code>Nexus_5X_API_25_x86</code> 为上一个命令的中列出的 AVD 的名字字段:<code>Name</code>。</p>
<h2 id="命令行快速参考手册"><a href="#命令行快速参考手册" class="headerlink" title="命令行快速参考手册"></a>命令行快速参考手册</h2><h3 id="server-side"><a href="#server-side" class="headerlink" title="server side"></a>server side</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Library/Android/sdk/tools</span><br><span class="line">./bin/avdmanager list avd</span><br><span class="line"><span class="comment"># 这里加 &amp; 表示让该命令在后台执行</span></span><br><span class="line">./emulator -adb Nexus_5X_API_25_x86 &amp;</span><br><span class="line"><span class="comment"># 关键步骤，释放本机 adb 服务，</span></span><br><span class="line">killall adb</span><br></pre></td></tr></table></figure>
<h3 id="client-side"><a href="#client-side" class="headerlink" title="client side"></a>client side</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh -NL 5554:localhost:5554 -L 5555:localhost:5555 mengxin@Xin-Mac-Mini.local</span><br><span class="line"><span class="comment"># 有时候也需要重启一下 adb 服务</span></span><br><span class="line">killall adb</span><br><span class="line">adb devices</span><br></pre></td></tr></table></figure>
<h3 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h3><p>将 sdk 工具加入到环境变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># adb</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export PATH=$PATH:~/Library/Android/sdk/platform-tools'</span> &gt;&gt; ~/.bash_profile</span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"><span class="comment"># avdmanager</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export PATH=$PATH:~/Library/Android/sdk/tools'</span> &gt;&gt; ~/.bash_profile</span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>
<p>adb shell 到指定的设备</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb -s device-name shell</span><br></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/blog/" rel="tag"># blog</a>
          
            <a href="/tags/Android/" rel="tag"># Android</a>
          
            <a href="/tags/adb/" rel="tag"># adb</a>
          
            <a href="/tags/AVD/" rel="tag"># AVD</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/07/17/terminal-efficiency-shortcut/" rel="next" title="Terminal的快捷操作方式">
                <i class="fa fa-chevron-left"></i> Terminal的快捷操作方式
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/08/05/casper-js-spider-design/" rel="prev" title="基于Casperjs的网站内容采集器设计">
                基于Casperjs的网站内容采集器设计 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
      
        
          <ul class="sidebar-nav motion-element">
            <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
              文章目录
            </li>
            <li class="sidebar-nav-overview" data-target="site-overview">
              站点概览
            </li>
          </ul>
        
      



      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar-2.jpg"
               alt="Xin Meng" />
          <p class="site-author-name" itemprop="name">Xin Meng</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">152</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">162</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/xmeng1" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/xinmeng_1" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/michealmeng" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/xinmeng1" target="_blank" title="Linkedin">
                  
                    <i class="fa fa-fw fa-linkedin"></i>
                  
                  Linkedin
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/mengxin.city" target="_blank" title="Facebook">
                  
                    <i class="fa fa-fw fa-facebook"></i>
                  
                  Facebook
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://douban.com/people/xinmeng1" target="_blank" title="Douban">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Douban
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/xinmeng1" target="_blank" title="Zhihu">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Zhihu
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Next
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://theme-next.iissnan.com" title="Title" target="_blank">Title</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>
      
        
        <!--noindex-->
          <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
            <div class="post-toc">

              
                
              

              
                <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#参考"><span class="nav-number">1.</span> <span class="nav-text">参考</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#约定"><span class="nav-number">2.</span> <span class="nav-text">约定</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#服务器-Server-开启-SSH-访问"><span class="nav-number">3.</span> <span class="nav-text">服务器 Server 开启 SSH 访问</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用-SSH-进行端口映射"><span class="nav-number">4.</span> <span class="nav-text">使用 SSH 进行端口映射</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#其他端口映射"><span class="nav-number">4.1.</span> <span class="nav-text">其他端口映射</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#默认端口映射"><span class="nav-number">4.2.</span> <span class="nav-text">默认端口映射</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用命令行打开模拟器"><span class="nav-number">5.</span> <span class="nav-text">使用命令行打开模拟器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#列出所有-AVD"><span class="nav-number">5.1.</span> <span class="nav-text">列出所有 AVD</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-emulator-打开-avd"><span class="nav-number">5.2.</span> <span class="nav-text">使用 emulator 打开 avd</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#命令行快速参考手册"><span class="nav-number">6.</span> <span class="nav-text">命令行快速参考手册</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#server-side"><span class="nav-number">6.1.</span> <span class="nav-text">server side</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#client-side"><span class="nav-number">6.2.</span> <span class="nav-text">client side</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他命令"><span class="nav-number">6.3.</span> <span class="nav-text">其他命令</span></a></li></ol></li></ol></div>
              

            </div>
          </section>
        <!--/noindex-->
        
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2017 - 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xin Meng</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://mengxin.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'https://notes.mengxin.science/2017/07/19/how-to-connect-android-emulator-in-lan/';
          this.page.identifier = '2017/07/19/how-to-connect-android-emulator-in-lan/';
          this.page.title = '远程连接局域网内的Android模拟器';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://mengxin.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  





  






  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.1"></script>



  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        },
        TeX: { equationNumbers: { autoNumber: "AMS" }}
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

</body>
</html>
